#I just wanna say that the tree itself, not the effects, but just the tree, was completed in under an hour, on half a brain at like 4 in the morning
##its not anything special, but I do gotta say Im infinitely happier since i dont have to deal with any pre-fix reservation fuckups like a month prior
###I know I've been going a little insane as of late but oddly enough its a lot less taxing to be doing it from scatch
####JESUS that sucked ass
#####hate that little lemonade stain on the map
#####-Slappy
focus_tree = { 
	id = tpn_nf
	country = {
		factor = 0
		modifier = {
			add = 100
			tag = TPM
		}
	}
	default = no

	focus = {
		id = tpm_minutes_of_madness
		icon = GFX_goal_pal_burn_the_city #its 8/26/23 at 12:23am roughly a week or two after i started, disregard that statement up there
		cost = 7 #it has completely grinded to a halt
		x = 20 #i've come to the conclusion that i think i just hate hoi4
		y = 1 
		completion_reward = {
			country_event = nf_tpm.1
		}
	}
	focus = {
		id = tpm_town_life 
		icon = GFX_goal_NCR_MojaveOutpost
		cost = 7
		x = 0 
		y = 1 
        prerequisite = { 
            focus = tpm_minutes_of_madness
        } 
        relative_position_id = tpm_minutes_of_madness
		completion_reward = {
			country_event = nf_tpm.2 
		} 
	} 
	focus = {
		id = tpm_the_bluff
		icon = GFX_goal_NCR_Mojave #I suppose the will to live
		cost = 7 
		x = 0 
		y = 1
        prerequisite = { #but nope
            focus = tpm_town_life
        } 
        relative_position_id = tpm_town_life
		completion_reward = {
			country_event = nf_tpm.3
		}
	}
	focus = {
		id = tpm_gold_and_blue
		icon = GFX_goal_generic_western
		cost = 7
		x = 0
		y = 1
        prerequisite = {
            focus = tpm_the_bluff
        }
        relative_position_id = tpm_the_bluff
		completion_reward = {
			country_event = nf_tpm.4
		}
	}
###mini side trees
	focus = {
		id = tpm_trade_orleans
		icon = GFX_goal_generic_gentlemen_sniper #oh my god i still have to do the custom guns
		cost = 30 #god 
		x = -7#dammit
		y = 1
		available = {
			if = {
				limit = {
					NOT = {
						is_ai = yes
					}
				}
				set_temp_variable = {
					caps_diff = -25
				}
				caps_cost_trigger = yes
			}
		}
        prerequisite = {
            focus = tpm_gold_and_blue
        }
        relative_position_id = tpm_gold_and_blue
		completion_reward = {
		set_temp_variable = { caps_to_add = -25 }
		add_caps = yes
		add_equipment_to_stockpile = {
			type = infantry_equipment_1
			amount = 500
			producer = JAZ
			}
		}
	}
	focus = {
		id = tpm_pirate_report
		icon = GFX_goal_BRK_black_flag_fleets
		cost = 30
		x = 0
		y = 1
		available = {
			if = {
				limit = {
					NOT = {
						is_ai = yes
					}
				}
				set_temp_variable = {
					caps_diff = -25
				}
				caps_cost_trigger = yes
			}
		}
        prerequisite = {
            focus = tpm_trade_orleans
        }
        relative_position_id = tpm_trade_orleans
		completion_reward = {
		set_temp_variable = { caps_to_add = -25 }
		add_caps = yes
		add_ideas =	tpm_gulf_pirates
		}
	}	
	focus = {
		id = tpm_trade_memphis
		icon = GFX_goal_ORO_Pyramid
		cost = 30
		x = 7
		y = 1
		available = {
			if = {
				limit = {
					NOT = {
						is_ai = yes
					}
				}
				set_temp_variable = {
					caps_diff = -25
				}
				caps_cost_trigger = yes
			}
		}
        prerequisite = {
            focus = tpm_gold_and_blue
        }
        relative_position_id = tpm_gold_and_blue
		completion_reward = {
		set_temp_variable = { caps_to_add = -25 }
		add_caps = yes
		add_manpower = 500
		875 = {
				add_resource = {
					type = circuitry
					amount = 4
				}
			
		}
	}
}
	focus = {
		id = tpm_skybound_designs
		icon = GFX_goal_generic_generator_wind 
		cost = 30
		x = 0
		y = 1
		available = {
			if = {
				limit = {
					NOT = {
						is_ai = yes
					}
				}
				set_temp_variable = {
					caps_diff = -25
				}
				caps_cost_trigger = yes
			}
		}
        prerequisite = {
            focus = tpm_trade_memphis
        }
        relative_position_id = tpm_trade_memphis
		completion_reward = {
		set_temp_variable = { caps_to_add = -25 }
		add_caps = yes
			add_tech_bonus = {
                bonus = 0.50
                uses = 3
                category = air_tech_category
            }
		}
	}
###middle act1
	focus = {
		id = tpm_reinforce_legends
		icon = GFX_goal_TTM_Golden_Fruit
		cost = 30
		x = -3
		y = 1
        prerequisite = {
            focus = tpm_gold_and_blue
        }
        relative_position_id = tpm_gold_and_blue
		
		mutually_exclusive = {
			focus = tpm_best_policy
		}
		
		completion_reward = {
			country_event = nf_tpm_act1.1
		}
	}
	focus = {
		id = tpm_cunningham_adventure
		icon = GFX_goal_cmc_going_to_the_river
		cost = 30
		x = -1
		y = 1
        prerequisite = {
            focus = tpm_reinforce_legends
        }
        relative_position_id = tpm_reinforce_legends
		completion_reward = {
			country_event = nf_tpm_act1.2
		}
	}
	focus = {
		id = tpm_george_adventure
		icon = GFX_KHA_focus_planning_red
		cost = 30
		x = 1
		y = 1
        prerequisite = {
            focus = tpm_reinforce_legends
        }
        relative_position_id = tpm_reinforce_legends
		completion_reward = {
			country_event = nf_tpm_act1.3
		}
	}
	focus = {
		id = tpm_chiefs_contribution
		icon = GFX_goal_enc_ncr_dollar
		cost = 30
		x = 1
		y = 1
        prerequisite = {
            focus = tpm_cunningham_adventure
        }
        prerequisite = {
            focus = tpm_george_adventure
        }
        relative_position_id = tpm_cunningham_adventure
		completion_reward = {
			country_event = nf_tpm_act1.4
		}
	}
	focus = {
		id = tpm_best_policy
		icon = GFX_goal_enc_FBI
		cost = 30
		x = 3
		y = 1
        prerequisite = {
            focus = tpm_gold_and_blue
        }
        relative_position_id = tpm_gold_and_blue
		
		mutually_exclusive = {
			focus = tpm_reinforce_legends
		}
		
		completion_reward = {
			country_event = nf_tpm_act1.5
		}
	}
	focus = {
		id = tpm_open_streets
		icon = GFX_goal_generic_whisky
		cost = 30
		x = -1
		y = 1
        prerequisite = {
            focus = tpm_best_policy
        }
        relative_position_id = tpm_best_policy
		completion_reward = {
			country_event = nf_tpm_act1.6
		}
	}
	focus = {
		id = tpm_never_meet_heroes
		icon = GFX_goal_TTM_Dynamite
		cost = 30
		x = 1
		y = 1
        prerequisite = {
            focus = tpm_best_policy
        }
        relative_position_id = tpm_best_policy
		completion_reward = {
			country_event = nf_tpm_act1.7
		}
	}
	focus = {
		id = tpm_to_the_bottom
		icon = GFX_goal_cartel_population_law
		cost = 30
		x = 1
		y = 1
        prerequisite = {
            focus = tpm_open_streets
        }
        prerequisite = {
            focus = tpm_never_meet_heroes
        }
        relative_position_id = tpm_open_streets
		completion_reward = {
			country_event = nf_tpm_petty_ass_event_that_didnt_wanna_work.1
		}
	}
###callahan's revenge
	focus = {
		id = tpm_callahan_revenge
		icon = GFX_goal_generic_free_states_soldier
		cost = 30
		x = 3
		y = 1
        prerequisite = {
            focus = tpm_to_the_bottom
			focus = tpm_chiefs_contribution
        }
        relative_position_id = tpm_chiefs_contribution
		completion_reward = {
			country_event = nf_tpm_act1.9
		}
	}
###act2
	focus = {
		id = tpm_maw_wargoal
		icon = GFX_goal_pal_cannibal_followup_raider
		cost = 30
		x = -1
		y = 1
        prerequisite = {
            focus = tpm_callahan_revenge
        }
		available = {
			ROOT = {
				has_war = no
			}
		}
		bypass = {
			OR = {
				GAM = {
				all_core_land_owned_by_prev_sphere = yes
				}
				TBH = {
				GAM = {
				all_core_land_owned_by_prev_sphere = yes
				}
			}
			}
		}
        relative_position_id = tpm_callahan_revenge
		completion_reward = {
			GAM = {
				ROOT = {
					grant_wargoals_on_core_states_of_prev = yes
				}
			}
		}	
	}
	focus = {
		id = tpm_maw_aftermath
		icon = GFX_goal_generic_recruitment_focus
		cost = 30
		x = 0
		y = 1
		available = {
			GAM = {
				all_core_land_owned_by_prev_sphere = yes
			}
		}
        prerequisite = {
            focus = tpm_maw_wargoal
        }
        relative_position_id = tpm_maw_wargoal
		completion_reward = {
            if = {
                limit = {
                    has_idea =  tpm_rocky_training_montage
                }
                swap_ideas = {
                    remove_idea =  tpm_rocky_training_montage
                    add_idea =  tpm_rocky_training_montage2
                }
            }
            else_if = {
            add_ideas =  tpm_rocky_training_montage
                }
            }
        }
	focus = {
		id = tpm_maw_side
		icon = GFX_goal_generic_gasmask_boy
		cost = 30
		x = -2
		y = 1
		available = {
			GAM = {
				all_core_land_owned_by_prev_sphere = yes
			}
		}
        prerequisite = {
            focus = tpm_maw_wargoal
        }
        relative_position_id = tpm_maw_wargoal
		completion_reward = {
		country_event = nf_tpm_misc_events.1

			
		}
	}
	focus = {
		id = tpm_maw_core
		icon = GFX_goal_TTM_Breaker_Of_Chains
		cost = 30
		x = -1
		y = 1
        prerequisite = {
            focus = tpm_maw_side
        }
        relative_position_id = tpm_maw_side
		completion_reward = {
		add_state_core = 874
		}
	}
	focus = {
		id = tpm_bayou_wargoal
		icon = GFX_goal_CES_slaves
		cost = 30
		x = 1
		y = 1
        prerequisite = {
            focus = tpm_callahan_revenge
        }
        relative_position_id = tpm_callahan_revenge
		available = {
			ROOT = {
				has_war = no
			}
		}
		bypass = {
			BAM = {
				all_core_land_owned_by_prev_sphere = yes
			}
		}
		completion_reward = {
			BAM = {
				ROOT = {
					grant_wargoals_on_core_states_of_prev = yes
				}
			}
		}
	}
	focus = {
		id = tpm_bayou_aftermath
		icon = GFX_goal_generic_walls_focus
		cost = 30
		x = 0
		y = 1
		available = {
			BAM = {
				all_core_land_owned_by_prev_sphere = yes
			}
		}
        prerequisite = {
            focus = tpm_bayou_wargoal
        }
        relative_position_id = tpm_bayou_wargoal
		completion_reward = {
            if = {
                limit = {
                    has_idea =  tpm_rocky_training_montage
                }
                swap_ideas = {
                    remove_idea =  tpm_rocky_training_montage
                    add_idea =  tpm_rocky_training_montage2
                }
            }
            else_if = {
            add_ideas =  tpm_rocky_training_montage
                }
            }
        }
	focus = {
		id = tpm_bayou_side
		icon = GFX_goal_ARM_reynosa_dockyard_renovations
		cost = 30
		x = 2
		y = 1
		available = {
			BAM = {
				all_core_land_owned_by_prev_sphere = yes
			}
		}
        prerequisite = {
            focus = tpm_bayou_wargoal
        }
        relative_position_id = tpm_bayou_wargoal
		completion_reward = {
		country_event = nf_tpm_misc_events.2
		}
	}
	focus = {
		id = tpm_bayou_core
		icon = GFX_goal_generic_wooden_ship
		cost = 30
		x = 1
		y = 1
        prerequisite = {
            focus = tpm_bayou_side
        }
        relative_position_id = tpm_bayou_side
		completion_reward = {
		add_state_core = 870
			
		}
	}
	focus = {
		id = tpm_tough_crowd
		icon = GFX_goal_NEW_New_Reno_Police_Department
		cost = 30
		x = 1
		y = 1
        prerequisite = {
            focus = tpm_maw_aftermath
        }
        prerequisite = {
            focus = tpm_bayou_aftermath
        }
		bypass = {
		OR = {
		TBH = {
		exists = no
		}
		TBH = {
		has_completed_focus = tbh_nf_approach_the_patrolmen
		}
	}
}
        relative_position_id = tpm_maw_aftermath
		completion_reward = {
		country_event = nf_tough_crowd.1
		custom_effect_tooltip = TPM_decisions_tt
	}
}
	focus = {
		id = tpm_elders_treachery
		icon = GFX_goal_MOJ_technology_raids #GFX_goal_TBH_T51
		cost = 30
		x = -2
		y = 1
		available = {
			OR = {
				has_war_with = TBH
				has_country_flag = tpm_WAR_WAR_WAR
				}
			}
			bypass = {
			OR = {
			TBH = {
			exists = no
			}
			TBH = {
			is_subject = yes
			}
		}
	}
        prerequisite = {
            focus = tpm_tough_crowd
        }
        relative_position_id = tpm_tough_crowd
		completion_reward = {
			country_event = nf_tpm_act2.1
		}
	}
	focus = {
		id = tpm_i_love_this_focus_name
		icon = GFX_goal_generic_BOS_focus_t51b_production
		cost = 30
		x = -1
		y = 1
		available = {
				has_war_with = TBH
			}
        prerequisite = {
            focus = tpm_elders_treachery
        }
			bypass = {
			OR = {
			TBH = {
			exists = no
			}
			TBH = {
			is_subject = yes
			}
		}
	}
        relative_position_id = tpm_elders_treachery
		completion_reward = {
		add_political_power = -75
		874 = {
        add_building_construction = {
        type = coastal_bunker
        level = 4
        instant_build = yes
        province = { #ok so its been half an hour and I cant get it to just be on the crossing, so its on every costal province. Rest of 'em will still be specific tho
        id = 11873 #ok scractch that it took me five seconds to figure it out once I looked at caesar's "river wars" focus lmao
        limit_to_coastal = yes
		}
	} 
		873 = { #can we please unironically strangle the dude who did caesars tree for using spaces the entire time
        add_building_construction = {
        type = bunker
		level = 3
        instant_build = yes
        province = {
        id = 11935
		id = 11939
		id = 11945
		id = 11931
		}
	}
}
		870 = {
        add_building_construction = {
        type = bunker
		level = 3
        instant_build = yes
        province = {
        id = 11771
		id = 11756
		}
	}
}
		875 = {
        add_building_construction = {
        type = bunker
		level = 3
        instant_build = yes
        province = {
        id = 11810
		}
	}
}
		876 = {
        add_building_construction = {
        type = bunker
		level = 3
        instant_build = yes
        province = {
        id = 11792
		}
	}
}
		874 = {
        add_building_construction = {
        type = bunker
		level = 3
        instant_build = yes
        province = {
        id = 11889
		}
	}
}
		}	
	}
}
	focus = {
		id = tpm_obvious_tactic
		icon = GFX_goal_NCR_Ranger_Can_Openers
		cost = 30
		x = 1
		y = 1
		available = {
				has_war_with = TBH
				}
			
        prerequisite = {
            focus = tpm_elders_treachery
        }
			bypass = {
			OR = {
			TBH = {
			exists = no
			}
			TBH = {
			is_subject = yes
			}
		}
	}
        relative_position_id = tpm_elders_treachery
		completion_reward = {
		set_temp_variable = { caps_to_add = -75 }
		add_caps = yes
			add_equipment_to_stockpile = {
				type = anti_tank_equipment_1
				amount = 250
				producer = USA
			}
			
		}
	}
	focus = {
		id = tpm_ALL_YOU_HAD_TO_DO
		icon = GFX_goal_generic_focus_magazine_gunsandbullets_take_aim #GFX_goal_NCR_Kimball_Expansion_PA
		cost = 30
		x = 1
		y = 1
		available = {
				has_war_with = TBH
						controls_state = 875
				}
			bypass = {
			OR = {
			TBH = {
			exists = no
			}
			TBH = {
			is_subject = yes
			}
		}
	}
        prerequisite = {
            focus = tpm_i_love_this_focus_name
        }
        prerequisite = {
            focus = tpm_obvious_tactic
        }
        relative_position_id = tpm_i_love_this_focus_name
		completion_reward = {
			country_event = nf_tpm_act2.2
			custom_effect_tooltip = tpm_post_launch_tooltip_tt
		}
	}
	focus = {
		id = tpm_the_dallas_meetup #hi shrouuuud :)
		icon =  GFX_goal_RRG_Dante_Texas #GFX_goal_RES_Main_Left_Train
		cost = 15
		x = 2
		y = 1
		available = {
			OR = {
			TBH = {
				exists = yes
				NOT = {
				has_war_with = TPM
				}
				NOT = {
				has_completed_focus = tbh_nf_to_hell_with_texas
				has_completed_focus = tbh_nf_approach_the_patrolmen
				}
				is_puppet = no
				}
			}
		}
        prerequisite = {
            focus = tpm_tough_crowd #hiiiii
        }
        relative_position_id = tpm_tough_crowd
		completion_reward = {
			country_event = nf_tpm_act2.3 #haaaaiiii
		}
	}
	focus = {
		id = tpm_proving_worth
		icon = GFX_goal_NCR_Buyout #FX_goal_RES_Main_Right_Target
		cost = 30
		x = -1
		y = 1
		available = {
			OR = {
			has_country_flag = bruddah_hood_accept
			TBH = {
			is_in_faction_with = TPM	
				}
			}
		}
        prerequisite = {
            focus = tpm_the_dallas_meetup
        }
        relative_position_id = tpm_the_dallas_meetup
		completion_reward = {
			army_experience = 50
			TBH = {
			army_experience = 50
				}
			}
		}
	focus = {
		id = tpm_armored_scouts
		icon = GFX_goal_generic_power_armour_t51 #GFX_goal_RES_Main_Right_Metal_Armor
		cost = 30
		x = 1
		y = 1
		available = {
			OR = {
			has_country_flag = bruddah_hood_accept
			TBH = {
			is_in_faction_with = TPM	
				}
			}
		}
        prerequisite = {
            focus = tpm_the_dallas_meetup
        }
        relative_position_id = tpm_the_dallas_meetup
		completion_reward = {
			add_tech_bonus = {
                bonus = 0.50
                uses = 2
                category = power_armor_tech_category
            }
			add_tech_bonus = {
                bonus = 0.50
                uses = 2
                category = spec_force_tech_category
            }
			set_technology = {
				power_armour_tech_level_settler = 1
			}
		}
	}
	focus = {
		id = tpm_howdy_pardner
		icon = GFX_goal_TBH_approach_patrolmen
		cost = 30
		x = 1
		y = 1
        prerequisite = {
            focus = tpm_proving_worth
        }
        prerequisite = {
            focus = tpm_armored_scouts
        }
        relative_position_id = tpm_proving_worth
		completion_reward = {
			country_event = nf_tpm_act2.4
		}
	}
###act3
	focus = {
		id = tpm_saints_and_sinners
		icon = GFX_goal_moon_flag #GFX_goal_TLA_Max_crowd
		cost = 30
		x = 2
		y = 1
        prerequisite = {
            focus = tpm_ALL_YOU_HAD_TO_DO
			focus = tpm_howdy_pardner
        }
		available = {
			ROOT = {
				has_war = no
			}
			OR = {
				ROOT = {
					TBH = {
						all_core_land_owned_by_prev_sphere = yes
					}
				}
				TBH = {
					exists = no
				}
				TBH = {
					is_puppet = yes
				}
			}
		}
        relative_position_id = tpm_ALL_YOU_HAD_TO_DO
		completion_reward = {
			IF = {
				limit = {
					TBH = {
						is_in_faction_with = TPM
					}
				}
					country_event = nf_tpm_act3.1
			}
			else_IF = {
				limit = {
				OR = {
				TBH = {
				is_subject = yes
				}
				TBH = {
				exists = no
				}
			}
		}
		country_event = nf_tbh_tpm_events.9
		}
	}
}
###left
	focus = {
		id = tpm_blackpeople_belike #sidenote, i should prooooobably change this id
		icon = GFX_goal_VEG_The_Omertas #maybe
		cost = 30
		x = -7
		y = 1
		available = {
		OR = {
		 ruler > 0.4
		 TBH = {
		 is_subject_of = TPM
			}
		owns_state = 892
		 }
		}
        prerequisite = {
            focus = tpm_saints_and_sinners
        }
        relative_position_id = tpm_saints_and_sinners
		
		mutually_exclusive = {
			focus = tpm_this_is_a_reservation_focus_name_lmao
		}
		
		completion_reward = {
			country_event = nf_tpm_act3.2
		}
	}
	focus = {
		id = tpm_determined_defenders
		icon = GFX_icon_apc_desert
		cost = 30
		x = -3
		y = 1
		available = {
			has_idea = tpm_deputy_alliance
			TBH = {
				all_core_land_owned_by_prev_sphere = yes
			}
		}	
        prerequisite = {
            focus = tpm_blackpeople_belike
        }
		bypass = {
				has_idea = tpm_louisiana_loyalty
				}
        relative_position_id = tpm_blackpeople_belike
		completion_reward = {
		add_manpower = -139
		894 = {
			add_extra_state_shared_building_slots = 2
			add_building_construction = {
			type = industrial_complex
			level = 1
			instant_build = yes
			}
			add_building_construction = {
			type = bunker
			level = 3
			instant_build = yes
			}
			add_building_construction = {
			type = infrastructure
			level = 2
			instant_build = yes
			}
		}
	}
}
	focus = {
		id = tpm_steelhand_siege
		icon = GFX_goal_power_fist
		cost = 30
		x = -1
		y = 1
        prerequisite = {
            focus = tpm_blackpeople_belike
        }
        relative_position_id = tpm_blackpeople_belike
		completion_reward = {
			876 = {
				add_extra_state_shared_building_slots = 4
						add_building_construction = {
						type = arms_factory
						level = 1
						instant_build = yes
					}
				}
			add_manpower = -23
			add_stability = -.05
		}
	}
	focus = {
		id = tpm_gunslingers_galore
		icon = GFX_goal_pal_back_to_raiding
		cost = 30
		x = 1
		y = 1
        prerequisite = {
            focus = tpm_blackpeople_belike
        }
        relative_position_id = tpm_blackpeople_belike
		completion_reward = {
			875 = {
				add_extra_state_shared_building_slots = 4
				add_building_construction = {
						type = industrial_complex
						level = 2
						instant_build = yes
						}
					}
			add_manpower = -47
			add_stability = -.05
				}
			}
	focus = {
		id = tpm_texan_attitude
		icon = GFX_goal_MOJ_gun_runner_caravan_raids
		cost = 30
		x = 3
		y = 1
		available = {
			has_idea = tpm_deputy_alliance
			TBH = {
				all_core_land_owned_by_prev_sphere = yes
			}
		}	
        prerequisite = {
            focus = tpm_blackpeople_belike
        }
		bypass = {
				has_idea = tpm_louisiana_loyalty
				}
        relative_position_id = tpm_blackpeople_belike
		completion_reward = {
		add_manpower = -72
		914 = {
			add_extra_state_shared_building_slots = 2
			add_building_construction = {
			type = industrial_complex
			level = 1
			instant_build = yes
			}
			add_building_construction = {
			type = bunker
			level = 3
			instant_build = yes
			}
			add_building_construction = {
			type = infrastructure
			level = 2
			instant_build = yes
			}
		}
	}
}
	focus = {
		id = tpm_dismay_in_dallas
		icon = GFX_goal_generic_scyscrapers_prewar
		cost = 30
		x = -1
		y = 1
        prerequisite = {
            focus = tpm_determined_defenders
        }
		available = {
			owns_state = 892
		}
        relative_position_id = tpm_determined_defenders
		completion_reward = {
			add_political_power = -50
			892 = {
				add_resistance = -20
				add_compliance = 50
			}
		}
	}
		
	focus = {
		id = tpm_cho_bang_is_a_racist_lmao
		icon = GFX_goal_LNS_Victory_Lone
		cost = 30
		x = 1
		y = 1
        prerequisite = {
            focus =  tpm_texan_attitude
        }
		available = {
			owns_state = 921
		}
        relative_position_id =  tpm_texan_attitude
		completion_reward = {
		set_temp_variable = { caps_to_add = -50 }
		add_caps = yes
			921 = {
				add_resistance = -20
				add_compliance = 50
			}
		}
	}
	focus = {
		id = tpm_rusks_request
		icon = GFX_goal_TBH_rusk
		cost = 30
		x = 3
		y = 1
        prerequisite = {
            focus =  tpm_determined_defenders
        }
	        prerequisite = {
            focus =  tpm_steelhand_siege
        }
	        prerequisite = {
            focus =  tpm_gunslingers_galore
        }
	        prerequisite = {
            focus =  tpm_texan_attitude
        }
        relative_position_id =  tpm_determined_defenders
		completion_reward = {
			country_event = nf_tpm_act3.3
		}
	}
	focus = {
		id = tpm_open_for_business
		icon = GFX_goal_food_prewar_food
		cost = 30
		x = -1
		y = 1
        prerequisite = {
            focus =  tpm_rusks_request
        }
        relative_position_id =  tpm_rusks_request
		completion_reward = {
		set_temp_variable = { caps_to_add = +50 }
		add_caps = yes
			870 = {
				set_temp_variable = {
					development_to_add = 2
				}
				add_development_to_node = yes
				add_resource = {
					type = water
					amount = 20
				}
			}
		}
	}
	focus = { #DO THIS Add 1 level of infrastructure damage in all owned core states of Texan Brotherhood
		id = tpm_iron_exodus
		icon = GFX_goal_MOJ_aggressive_policy
		cost = 30
		x = 1
		y = 1
        prerequisite = {
            focus =  tpm_rusks_request
        }
        relative_position_id =  tpm_rusks_request
		completion_reward = {
				every_owned_state = {
                set_temp_variable = { pop_add = -2000 }
				add_state_population_no_state_name = yes
					is_core_of = TBH
				damage_building = { 
					type = infrastructure
					damage = 2
							}
						}
            }
			add_stability = 0.1
				}
		
	focus = {
		id = tpm_texan_roulette
		icon = GFX_goal_MOT_Sombrero_Gun #GFX_goal_NCR_Calhoun_Militia_Man
		cost = 30
		x = 1
		y = 1
        prerequisite = {
            focus =  tpm_open_for_business
        }
        prerequisite = {
            focus =  tpm_iron_exodus
        }
		available = {
			ROOT = {
				has_war = no
			}
			TBH = {
				all_core_land_owned_by_prev_sphere = yes
			}
		}
        relative_position_id =  tpm_open_for_business
		completion_reward = {
		IF = {
		LIMIT = {
		OR ={
		TPM = {
			owns_state = 892
		}
		TBH = {
		is_subject_of = TPM
			}
		}
	}	
	country_event = nf_tpm_act3.4
	}
	else_IF = {
		LIMIT = {
		}
			country_event = nf_tpm_misc_events.10
		}
	}
}
###middle
	focus = {
		id = tpm_desperados_wargoal
		icon = GFX_goal_TBH_desperados_no_more
		cost = 30
		x = 0
		y = 2
        prerequisite = {
            focus = tpm_saints_and_sinners
        }
		available = {
			ROOT = {
				has_war = no
			}
			GAM = {
				all_core_land_owned_by_prev_sphere = yes
			}
		}
		bypass = { 
			DSP = {
				all_core_land_owned_by_prev_sphere = yes
			}
		}
        relative_position_id = tpm_saints_and_sinners
		completion_reward = {
			DSP = {
				ROOT = {
					grant_wargoals_on_core_states_of_prev = yes
				}
			}
		}
	}
	focus = {
		id = tpm_the_goodies
		icon = GFX_goal_CES_Industry_TS_Car_Road
		cost = 30
		x = 0
		y = 1
		available = {
			DSP = {
				all_core_land_owned_by_prev_sphere = yes
			}
		}
        prerequisite = {
            focus = tpm_desperados_wargoal
        }
        relative_position_id = tpm_desperados_wargoal
		completion_reward = { #im prolly gonna fuck this up somehow, im so damn tired right now despite the fact i just woke up two hours ago
		IF = {
			limit = {
			is_texan_economic_union_member = yes
			}
			TPM = {
				TBH = {
				transfer_state = 871
				transfer_state = 872
		}
		set_temp_variable = { caps_to_add = +100 }
		add_caps = yes		
			}
		}
		else_IF = {
		add_state_core = 871
			871 = {
				add_extra_state_shared_building_slots = 2
				add_building_construction = {
						type = industrial_complex
						level = 1
						instant_build = yes
				}
				add_building_construction = {
						type = arms_factory
						level = 1
						instant_build = yes
						}
					}
				}	
			}
		}
	focus = {
		id = tpm_ghoulish_mechanics
		icon = GFX_goal_enc_accept_ghouls
		cost = 30
		x = 0
		y = 1
        prerequisite = {
            focus = tpm_the_goodies
        }
        relative_position_id = tpm_the_goodies
		completion_reward = {
		add_political_power = -100
		add_stability = -.1
		add_ideas = tpm_ghoul_mechanics
			set_technology = {
			vehicles_tech_level_scientific = 1
			}
			hidden_effect = {
				country_event = {
				id = nf_tpm_misc_events.8
				days = 69
			}
		}
	}
}
###right
	focus = {
		id = tpm_this_is_a_reservation_focus_name_lmao
		icon = GFX_goal_land_flag
		cost = 30
		x = 7
		y = 1
		available = {
		 OR = {
		 people > 0.4
			TBH = {
			is_in_faction_with = TPM
			}
			LNS = {
			is_in_faction_with = TPM
			}
		 }
		}
        prerequisite = {
            focus = tpm_saints_and_sinners
        }
        relative_position_id = tpm_saints_and_sinners
		
		mutually_exclusive = {
			focus = tpm_blackpeople_belike
		}
		
		completion_reward = {
			country_event = nf_tpm_act3.5
		}
	}
	focus = {
		id = tpm_big_iron
		icon = GFX_goal_BRK_gravens_ship
		cost = 30
		x = -4
		y = 1
        prerequisite = {
            focus = tpm_this_is_a_reservation_focus_name_lmao
        }
		bypass = {
			NOT = {
				BAM = {
			all_core_land_owned_by_prev_sphere = yes
			}
		}
	}
        relative_position_id = tpm_this_is_a_reservation_focus_name_lmao
		completion_reward = {
			country_event = nf_tpm_act3.6
		}
	}
	focus = {
		id = tpm_keats_clams
		icon = GFX_goal_uoa_book
		cost = 30
		x = -2
		y = 1
        prerequisite = {
            focus = tpm_this_is_a_reservation_focus_name_lmao
        }
        relative_position_id = tpm_this_is_a_reservation_focus_name_lmao
		completion_reward = {
		add_political_power = -50
			add_popularity = {
				ideology = people
				popularity = 0.1
				}
				every_owned_state = {
                set_temp_variable = { pop_add = 250 }
				add_state_population_no_state_name = yes
            }
			871 = {
				add_extra_state_shared_building_slots = 1
				add_building_construction = {
						type = industrial_complex
						level = 1
						instant_build = yes
				}
		}
	}
}
	focus = {
		id = tpm_racists_investments
		icon = GFX_goal_cap_and_cash
		cost = 30
		x = 0
		y = 1
        prerequisite = {
            focus = tpm_this_is_a_reservation_focus_name_lmao
        }
        relative_position_id = tpm_this_is_a_reservation_focus_name_lmao
		completion_reward = {
		set_temp_variable = { caps_to_add = +100 }
		add_caps = yes
		LNS = {
		set_temp_variable = { caps_to_add = +50 }
		add_caps = yes
		}
			870 = {
				set_temp_variable = {
					development_to_add = 2
				}
				add_development_to_node = yes
		}
	}
}
	focus = {
		id = tpm_brotherhood_no_more
		icon = GFX_goal_generic_f76_player3
		cost = 30
		x = 2
		y = 1
        prerequisite = {
            focus = tpm_this_is_a_reservation_focus_name_lmao
        }
        relative_position_id = tpm_this_is_a_reservation_focus_name_lmao
		completion_reward = {
		add_manpower = 250
			add_equipment_to_stockpile = {
				type = energy_equipment_1
				amount = 300
				producer = BOS
			}
			add_popularity = {
				ideology = people
				popularity = 0.10
				}
			}
		}
	focus = {
		id = tpm_made_me_pay_taxes #:( 
		icon = GFX_goal_LNS_texan_dollar
		cost = 30
		x = 4
		y = 1
        prerequisite = {
            focus = tpm_this_is_a_reservation_focus_name_lmao
        }
        relative_position_id = tpm_this_is_a_reservation_focus_name_lmao
		completion_reward = { #sidenote, if someone has wild wasteland on, we should make it so it takes 600 caps from them :)
			country_event = nf_tpm_act3.7
		}
	}
	focus = {
		id = tpm_privateering
		icon = GFX_goal_ITZ_ruling_the_waves
		cost = 30
		x = 1
		y = 1
        prerequisite = {
            focus = tpm_big_iron
        }
        prerequisite = {
            focus = tpm_keats_clams
        }
        relative_position_id = tpm_big_iron
		completion_reward = {
		set_temp_variable = { caps_to_add = -50 }
		add_caps = yes
		custom_effect_tooltip = tpm_new_fleet
		custom_effect_tooltip = tpm_new_fleet_flavor
		hidden_effect = {
		load_oob = TPM_privateering
			}
		}
	}
	focus = {
		id = tpm_codex_of_legends
		icon = GFX_goal_HEA_focus_precursers
		cost = 30
		x = 0
		y = 1
        prerequisite = {
            focus = tpm_keats_clams
        }
        prerequisite = {
            focus = tpm_racists_investments
        }
        prerequisite = {
            focus = tpm_brotherhood_no_more
        }
        relative_position_id = tpm_racists_investments
		completion_reward = {
			country_event = nf_tpm_act3.8
		}
	}
	focus = {
		id = tpm_dummy
		icon = GFX_goal_SOK_schematics
		cost = 30
		x = 1
		y = 1
        prerequisite = {
            focus = tpm_brotherhood_no_more
        }
        prerequisite = {
            focus = tpm_made_me_pay_taxes
        }
        relative_position_id = tpm_brotherhood_no_more
		completion_reward = {
		set_technology = { texas_brotherhood_pa_tech = 1 }
		set_technology = { skater_tech = 1 }
			add_tech_bonus = {
                bonus = 0.50
                uses = 1
                category = infantry_tech_category
            }
			
		}
	}
	focus = {
		id = tpm_UNITY_IN_TEXAS #get it :))))
		icon = GFX_goal_uoa_texas
		cost = 30
		x = 0
		y = 1
		available = {
		OR = {
		TBH = {
			has_country_flag = formed_texas
			}
		LNS = {
			has_country_flag = formed_texas
				}
			}
		}
        prerequisite = {
            focus = tpm_privateering
        }
        prerequisite = {
            focus = tpm_codex_of_legends
        }
        prerequisite = {
            focus = tpm_dummy
        }
        relative_position_id = tpm_codex_of_legends
		completion_reward = {
			country_event = nf_tpm_act3.9
		}
	}
	focus = {
		id = tpm_research_efforts
		icon = GFX_goal_usa_science_reform
		cost = 30
		x = -1
		y = 1
        prerequisite = {
            focus = tpm_UNITY_IN_TEXAS
        }
        relative_position_id = tpm_UNITY_IN_TEXAS
		completion_reward = {
		add_research_slot = 1
		add_to_tech_sharing_group = texan_economic_union_sharing
			
		}
	}
	focus = {
		id = tpm_choke_mobsters
		icon = GFX_goal_VEG_Private_Armies
		cost = 30
		x = 1
		y = 1
        prerequisite = {
            focus = tpm_UNITY_IN_TEXAS
        }
		available = {
			has_manpower > 350
		}
        relative_position_id = tpm_UNITY_IN_TEXAS
		completion_reward = {
		add_equipment_to_stockpile = {
		type = ballistic_equipment_1
		amount = -350
		producer = TPM
			}
		add_manpower = -350
		add_war_support = .1
		custom_effect_tooltip =  tpm_mobsters_remove_corruption_tt
		hidden_effect = {
		remove_ideas = tpm_mild_corruption
		remove_ideas = tpm_bad_corruption
		remove_ideas = tpm_all_corrupted
		}
	}
}
	focus = {
		id = tpm_ilove_democracy
		icon = GFX_goal_enc_electoral_victory
		cost = 30
		x = 1
		y = 1
        prerequisite = {
            focus = tpm_research_efforts
        }
        prerequisite = {
            focus = tpm_choke_mobsters
        }
        relative_position_id = tpm_research_efforts
		completion_reward = {
			country_event = nf_tpm_act3.10
		}
	}
###other focuses before the reworked generics

###it is what it is
	focus = {
		id = tpm_patrolling_is_service
		icon = GFX_goal_NCR_Rangers_Lead_the_War
		cost = 30
		x = -17
		y = 2
		available = {
		OR = {
		TBH = {
		is_in_faction_with = TPM
		}
		TBH = {
		all_core_land_owned_by_prev_sphere = yes
			}
		has_dynamic_modifier = { modifier = texan_economic_union }
		}
	}
        prerequisite = {
            focus = tpm_gold_and_blue
        }
        relative_position_id = tpm_gold_and_blue
		completion_reward = {
		add_manpower = 150
		add_equipment_to_stockpile = {
		type = ballistic_equipment_1
		amount = 150
		producer = TBH
			}
		TBH = {
			add_opinion_modifier = {
				target = TPM
				modifier = tpm_fellow_deputies
			}
		}
	}
}
	focus = {
		id = tpm_investment_opportunities
		icon = GFX_goal_bottlecap
		cost = 30
		x = -1
		y = 1
        prerequisite = {
            focus = tpm_patrolling_is_service
        }
        relative_position_id = tpm_patrolling_is_service
		completion_reward = {
		set_temp_variable = { caps_to_add = +100 }
		add_caps = yes
			
		}
	}
	focus = {
		id = tpm_good_soldiers
		icon = GFX_goal_generic_BOS_focus_combined_operations
		cost = 30
		x = 1
		y = 1
        prerequisite = {
            focus = tpm_patrolling_is_service
        }
        relative_position_id = tpm_patrolling_is_service
		completion_reward = {
		add_political_power = 100
			
		}
	}
	focus = {
		id = tpm_nobody_needs_to_know
		icon = GFX_goal_goal_card_tricks
		cost = 30
		x = 1
		y = 1
        prerequisite = {
            focus = tpm_investment_opportunities
        }
        prerequisite = {
            focus = tpm_good_soldiers
        }
        relative_position_id = tpm_investment_opportunities
		completion_reward = {
		country_event = nf_tpm_misc_events.3
			
		}
	}
	focus = {
		id = tpm_what_it_is
		icon = GFX_goal_CES_workshop
		cost = 30
		x = 0
		y = 1
        prerequisite = {
            focus = tpm_nobody_needs_to_know
        }
		available = {
		is_puppet = yes
		}
        relative_position_id = tpm_nobody_needs_to_know
		completion_reward = {
		country_event = nf_tpm_misc_events.4
			
		}
	}
###uit nod tree thing
	focus = {
		id = tpm_keats_buddy_pal_chum
		icon = GFX_goal_behemoth
		cost = 30
		x = 17
		y = 2
        prerequisite = {
            focus = tpm_gold_and_blue
        }
		available = {
			OR = {
			is_ally_with = UOA
			TPM = {
			owns_state  = 915
			}
		}
	}
        relative_position_id = tpm_gold_and_blue
		completion_reward = {
		country_event = nf_tpm_misc_events.5
			
		}
	}
		focus = {
		id = tpm_river_patrols
		icon = GFX_goal_BOS_steel_cage
		cost = 30
		x = -1
		y = 1
        prerequisite = {
            focus = tpm_keats_buddy_pal_chum
        }
        relative_position_id = tpm_keats_buddy_pal_chum
		completion_reward = {
			875 = {
				add_extra_state_shared_building_slots = 2
				add_building_construction = {
						type = dockyard
						level = 2
						instant_build = yes
				}
			}
		}
	} 
		focus = {
		id = tpm_heavier_industry
		icon =  GFX_goal_uoa_blueprint
		cost = 30
		x = 1
		y = 1
        prerequisite = {
            focus = tpm_keats_buddy_pal_chum
        }
        relative_position_id = tpm_keats_buddy_pal_chum
		completion_reward = {
			875 = {
				add_extra_state_shared_building_slots = 3
				add_building_construction = {
						type = industrial_complex
						level = 2
						instant_build = yes
						}
						add_building_construction = {
						type = arms_factory
						level = 1
						instant_build = yes
					}
				}
			}
		}
		focus = {
		id = tpm_railroad
		icon = GFX_icon_steel
		cost = 30
		x = 1
		y = 1
        prerequisite = {
            focus = tpm_river_patrols
        }
        prerequisite = {
            focus = tpm_heavier_industry
        }
		available = {
			BAM = {
				all_core_land_owned_by_prev_sphere = yes
			}
			GAM = {
				all_core_land_owned_by_prev_sphere = yes
			}
			CAR = {
				all_core_land_owned_by_prev_sphere = yes
			}
			TBH = {
				all_core_land_owned_by_prev_sphere = yes
			}
			UOA = {
				all_core_land_owned_by_prev_sphere = yes
			}
		}
        relative_position_id = tpm_river_patrols
		completion_reward = {
		country_event = nf_tpm_misc_events.6
			
		}
	}
	focus = {
		id = tpm_a_day_off #it is 8/26/23 at 2
		icon = GFX_goal_uoa_election_poster
		cost = 30
		x = 0
		y = 1
		available = {
		OR  = { 
		IF = {
            limit = {
				UOA = { has_country_flag = UIT_Enabled
				}
			}
			UOA = {
			has_completed_focus = uoa_louisiana_rest
		}
	}
		TBH = {
		owns_state = 915
			}
		LNS = {
		owns_state = 915
			}    
		}
	}
		prerequisite = {
            focus = tpm_railroad
        }
        relative_position_id = tpm_railroad
		completion_reward = {
		custom_effect_tooltip =  tpm_mmmmmmmmmburger_tt
		country_event = nf_tpm_misc_events.7
			
		}
	}
###REWORKED GENERICS
### Funding the Schools
focus = {
	id = TPM_settler_schools
	icon = GFX_goal_generic_books
	cost = 60
	prerequisite = {
		focus = tpm_gold_and_blue
	}
	relative_position_id = tpm_gold_and_blue
	x = -10
	y = 1
	completion_reward = {
		if = {
			limit = { has_global_flag = debug_logs }
			log = "[GetDateText]: [Root.GetName] settler_schools entered"
		}
		add_ideas =	new_schools
		if = {
			limit = { has_global_flag = debug_logs }
			log = "[GetDateText]: [Root.GetName] settler_schools exited"
		}
	}
}
focus = {
	id = TPM_settler_laboratory
	icon = GFX_goal_generic_terminal_2
	cost = 60
	prerequisite = {
		focus = TPM_settler_schools
	}
	x = 0
	y = 1
	relative_position_id = TPM_settler_schools
	completion_reward = {
		if = {
			limit = { has_global_flag = debug_logs }
			log = "[GetDateText]: [Root.GetName] settler_laboratory entered"
		}
		add_research_slot = 1
		if = {
			limit = { has_global_flag = debug_logs }
			log = "[GetDateText]: [Root.GetName] settler_laboratory exited"
		}
	}
}
focus = {
	id = TPM_settler_medical
	icon = GFX_goal_generic_medical_scalpal
	cost = 60
	prerequisite = {
		focus = TPM_settler_science
	}
	x = 0
	y = 1
	relative_position_id = TPM_settler_science
	completion_reward = {
		if = {
			limit = { has_global_flag = debug_logs }
			log = "[GetDateText]: [Root.GetName] settler_medical entered"
		}
		add_tech_bonus = {
			name = medical_bonus
			bonus = 0.75
			uses = 1
			category = support_medical_tech_category
		}
		if = {
			limit = { has_global_flag = debug_logs }
			log = "[GetDateText]: [Root.GetName] settler_medical exited"
		}
	}
}
focus = {
	id = TPM_settler_chemistry
	icon = GFX_goal_generic_microscope
	cost = 60
	prerequisite = {
		focus = TPM_settler_medical
	}
	x = 0
	y = 1
	relative_position_id = TPM_settler_medical
	completion_reward = {
		if = {
			limit = { has_global_flag = debug_logs }
			log = "[GetDateText]: [Root.GetName] settler_chemistry entered"
		}
		add_ideas = chem_lab
		if = {
			limit = { has_global_flag = debug_logs }
			log = "[GetDateText]: [Root.GetName] settler_chemistry exited"
		}
	}
}
focus = {
	id = TPM_settler_science
	icon = GFX_goal_pal_electronic_plans
	cost = 60
	prerequisite = {
		focus = TPM_settler_laboratory
	}
	x = 0
	y = 1
	relative_position_id = TPM_settler_laboratory
	completion_reward = {
		if = {
			limit = { has_global_flag = debug_logs }
			log = "[GetDateText]: [Root.GetName] settler_science entered"
		}
		add_tech_bonus = {
			name = robot_bonus
			bonus = 0.5
			uses = 1
			category = robotics_tech_category
		}
		add_tech_bonus = {
			bonus = 0.5
			uses = 1
			category = electronics
		}
		if = {
			limit = { has_global_flag = debug_logs }
			log = "[GetDateText]: [Root.GetName] settler_science exited"
		}
	}
}
focus = {
	id = TPM_settler_focus_robco
	icon = GFX_goal_generic_robots_focus
	cost = 60
	prerequisite = {
		focus = TPM_settler_laboratory
	}
	x = -3
	y = 0
	relative_position_id = TPM_settler_science
	completion_reward = {
		if = {
			limit = { has_global_flag = debug_logs }
			log = "[GetDateText]: [Root.GetName] settler_focus_robco entered"
		}
		swap_ideas = {
			add_idea = settler_robco
			remove_idea = new_schools
		}
		if = {
			limit = { has_global_flag = debug_logs }
			log = "[GetDateText]: [Root.GetName] settler_focus_robco exited"
		}
	}
}
focus = {
	id = TPM_settler_firefighter
	icon = GFX_goal_TIM_patch_fire_saftey
	cost = 60
	prerequisite = {
		focus = TPM_settler_focus_robco
	}
	x = -1
	y = 1
	relative_position_id = TPM_settler_focus_robco
	completion_reward = {
		if = {
			limit = { has_global_flag = debug_logs }
			log = "[GetDateText]: [Root.GetName] settler_firefighter entered"
		}
		add_ideas = firefighter_protection
		if = {
			limit = { has_global_flag = debug_logs }
			log = "[GetDateText]: [Root.GetName] settler_firefighter exited"
		}
	}
}
focus = {
	id = TPM_settler_police
	icon = GFX_goal_enc_military_police
	cost = 60
	prerequisite = {
		focus = TPM_settler_firefighter
	}
	x = 0
	y = 1
	relative_position_id = TPM_settler_firefighter
	completion_reward = {
		if = {
			limit = { has_global_flag = debug_logs }
			log = "[GetDateText]: [Root.GetName] settler_police entered"
		}
		swap_ideas = {
			add_idea = police_protection
			remove_idea = firefighter_protection
		}
		if = {
			limit = { has_global_flag = debug_logs }
			log = "[GetDateText]: [Root.GetName] settler_police exited"
		}
	}
}
focus = {
	id = TPM_settlers_protection
	icon = GFX_goal_generic_protectron_conceptart_medic
	cost = 60
	prerequisite = {
		focus = TPM_settler_focus_robco
	}
	x = 1
	y = 1
	relative_position_id = TPM_settler_focus_robco
	completion_reward = {
		if = {
			limit = { has_global_flag = debug_logs }
			log = "[GetDateText]: [Root.GetName] settlers_protection entered"
		}
		add_tech_bonus = {
			name = medical_bonus
			bonus = 0.5
			uses = 1
			category = support_medical_tech_category
		}
		add_tech_bonus = {
			name = robot_bonus
			bonus = 0.5
			uses = 1
			category = robotics_tech_category
		}
		if = {
			limit = { has_global_flag = debug_logs }
			log = "[GetDateText]: [Root.GetName] settlers_protection exited"
		}
	}
}
focus = {
	id = TPM_settler_construction
	icon = GFX_goal_generic_protectron_conceptart_construction
	cost = 60
	prerequisite = {
		focus = TPM_settlers_protection
	}
	x = 0
	y = 1
	relative_position_id = TPM_settlers_protection
	completion_reward = {
		if = {
			limit = { has_global_flag = debug_logs }
			log = "[GetDateText]: [Root.GetName] settler_construction entered"
		}
		add_ideas = construction_protection
		if = {
			limit = { has_global_flag = debug_logs }
			log = "[GetDateText]: [Root.GetName] settler_construction exited"
		}
	}
}
focus = {
	id = TPM_settler_garage
	icon = GFX_goal_generic_engine
	cost = 60
	prerequisite = {
		focus = TPM_settler_laboratory
	}
	x = 3
	y = 1
	relative_position_id = TPM_settler_laboratory
	completion_reward = {
		if = {
			limit = { has_global_flag = debug_logs }
			log = "[GetDateText]: [Root.GetName] settler_garage entered"
		}
		random_owned_controlled_state = {
			limit = {
				is_valid_state_for_2_arms_factories = yes
			}
			add_extra_state_shared_building_slots = 2
			add_building_construction = {
				type = arms_factory
				level = 2
				instant_build = yes
			}
			add_resource = {
				type = circuitry
				amount = 3
			}
		}
		if = {
			limit = { has_global_flag = debug_logs }
			log = "[GetDateText]: [Root.GetName] settler_garage exited"
		}
	}
}
focus = {
	id = TPM_settler_vehicles
	icon = GFX_goal_generic_bus
	cost = 60
	prerequisite = {
		focus = TPM_settler_garage
	}
	x = 0
	y = 1
	relative_position_id = TPM_settler_garage
	completion_reward = {
		if = {
			limit = { has_global_flag = debug_logs }
			log = "[GetDateText]: [Root.GetName] settler_vehicles entered"
		}
		add_tech_bonus = {
			name = transport_bonus
			bonus = 0.75
			uses = 1
			category = vehicle_tech_category
		}
		if = {
			limit = { has_global_flag = debug_logs }
			log = "[GetDateText]: [Root.GetName] settler_vehicles exited"
		}
	}
}
focus = {
	id = TPM_settler_teams
	icon = GFX_goal_generic_truck_1
	cost = 60
	prerequisite = {
		focus = TPM_settler_vehicles
	}
	x = -1
	y = 1
	relative_position_id = TPM_settler_vehicles
	completion_reward = {
		if = {
			limit = { has_global_flag = debug_logs }
			log = "[GetDateText]: [Root.GetName] settler_teams entered"
		}
		set_temp_variable = { caps_to_add = 100 }
		add_caps = yes
		random_owned_controlled_state = {
			add_resource = {
				type = composites
				amount = 6
			}
			add_resource = {
				type = circuitry
				amount = 3
			}
		}
		if = {
			limit = { has_global_flag = debug_logs }
			log = "[GetDateText]: [Root.GetName] settler_teams exited"
		}
	}
}
focus = {
	id = TPM_settler_war
	icon = GFX_goal_generic_jeep
	cost = 60
	prerequisite = {
		focus = TPM_settler_vehicles
	}
	x = 1
	y = 1
	relative_position_id = TPM_settler_vehicles
	completion_reward = {
		if = {
			limit = { has_global_flag = debug_logs }
			log = "[GetDateText]: [Root.GetName] settler_war entered"
		}
		add_tech_bonus = {
			name = apc_bonus
			bonus = 0.25
			uses = 1
			ahead_reduction = 1
			category = motorized_equipment_category
		}
		if = {
			limit = { has_global_flag = debug_logs }
			log = "[GetDateText]: [Root.GetName] settler_war exited"
		}
	}
}
focus = {
	id = TPM_settler_thinktank
	icon = GFX_goal_generic_tank_2
	cost = 60
	prerequisite = {
		focus = TPM_settler_teams
	}
	prerequisite = {
		focus = TPM_settler_war
	}
	x = 1
	y = 1
	relative_position_id = TPM_settler_teams
	completion_reward = {
		if = {
			limit = { has_global_flag = debug_logs }
			log = "[GetDateText]: [Root.GetName] settler_thinktank entered"
		}
		add_tech_bonus = {
			name = thinktank_bonus
			bonus = 0.75
			uses = 1
			category = tank_tech_category
		}
		if = {
			limit = { has_global_flag = debug_logs }
			log = "[GetDateText]: [Root.GetName] settler_thinktank exited"
		}
	}
}
focus = {
	id = TPM_settler_community
	icon = GFX_goal_generic_slums_focus
	cost = 60
	prerequisite = {
		focus = tpm_gold_and_blue
	}
	relative_position_id = tpm_gold_and_blue
	x = 10
	y = 1
	completion_reward = {
		if = {
			limit = { has_global_flag = debug_logs }
			log = "[GetDateText]: [Root.GetName] settler_community entered"
		}
		random_owned_controlled_state = {
			limit = {
				is_valid_state_for_2_civilian_factories = yes
			}
			add_extra_state_shared_building_slots = 4
			add_building_construction = {
				type = industrial_complex
				level = 2
				instant_build = yes
			}
			set_temp_variable = {
				pop_add = 500
			}
			add_state_population_no_state_name = yes
		}
		if = {
			limit = { has_global_flag = debug_logs }
			log = "[GetDateText]: [Root.GetName] settler_community exited"
		}
	}
}
focus = {
	id = TPM_settler_arrive
	icon = GFX_goal_pal_the_league
	cost = 60
	prerequisite = {
		focus = TPM_settler_community
	}
	x = -1
	y = 1
	relative_position_id = TPM_settler_community
	completion_reward = {
		if = {
			limit = { has_global_flag = debug_logs }
			log = "[GetDateText]: [Root.GetName] settler_arrive entered"
		}
		add_timed_idea = { idea = settler_wasteland_settlers days = 365 }
		if = {
			limit = { has_global_flag = debug_logs }
			log = "[GetDateText]: [Root.GetName] settler_arrive exited"
		}
	}
}
focus = {
	id = TPM_settler_tato
	icon = GFX_goal_TIM_patch_plant_science
	cost = 60
	prerequisite = {
		focus = TPM_settler_arrive
	}
	x = 0
	y = 1
	relative_position_id = TPM_settler_arrive
	completion_reward = {
		if = {
			limit = { has_global_flag = debug_logs }
			log = "[GetDateText]: [Root.GetName] settler_tato entered"
		}
		add_ideas = tato_farming
		if = {
			limit = { has_global_flag = debug_logs }
			log = "[GetDateText]: [Root.GetName] settler_tato exited"
		}
	}
}
focus = {
	id = TPM_settler_brahmin
	icon = GFX_goal_generic_creature_brahmin
	cost = 60
	prerequisite = {
		focus = TPM_settler_tato
	}
	x = 0
	y = 1
	relative_position_id = TPM_settler_tato
	completion_reward = {
		if = {
			limit = { has_global_flag = debug_logs }
			log = "[GetDateText]: [Root.GetName] settler_brahmin entered"
		}
		random_owned_controlled_state = {
			set_temp_variable = {
				pop_add = 1000
			}
			add_state_population_no_state_name = yes
		}
		swap_ideas = {
			add_idea = brahmin_herding
			remove_idea = tato_farming
		}
		if = {
			limit = { has_global_flag = debug_logs }
			log = "[GetDateText]: [Root.GetName] settler_brahmin exited"
		}
	}
}
focus = {
	id = TPM_settler_traderoutes
	icon = GFX_goal_generic_brahmin_trade
	cost = 60
	prerequisite = {
		focus = TPM_settler_community
	}
	x = 3
	y = 1
	relative_position_id = TPM_settler_community
	completion_reward = {
		if = {
			limit = { has_global_flag = debug_logs }
			log = "[GetDateText]: [Root.GetName] settler_traderoutes entered"
		}
		set_temp_variable = { caps_to_add = 150 }
		add_caps = yes
		if = {
			limit = {
				check_variable = {
					num_owned_controlled_states > 1
				}
			}
			random_owned_controlled_state = {	# This looks better in the tooltip than capital_scope
				limit = {
					is_capital = yes
					infrastructure < 9
				}
				add_building_construction = {
					type = infrastructure
					level = 1
					instant_build = yes
				}
			}
			random_owned_controlled_state = {
				limit = {
					is_capital = no
					infrastructure < 9
				}
				add_building_construction = {
					type = infrastructure
					level = 1
					instant_build = yes
				}
			}
		}
		else = {
			random_owned_controlled_state = {
				limit = {
					is_capital = no
					infrastructure < 9
				}
				add_building_construction = {
					type = infrastructure
					level = 2
					instant_build = yes
				}
			}
		}
		if = {
			limit = { has_global_flag = debug_logs }
			log = "[GetDateText]: [Root.GetName] settler_traderoutes exited"
		}
	}
}
focus = {
	id = TPM_settler_future
	icon = GFX_goal_generic_barn
	cost = 60
	prerequisite = {
		focus = TPM_settler_traderoutes
	}
	x = -1
	y = 1
	relative_position_id = TPM_settler_traderoutes
	completion_reward = {
		if = {
			limit = { has_global_flag = debug_logs }
			log = "[GetDateText]: [Root.GetName] settler_future entered"
		}
		add_tech_bonus = {
			bonus = 0.5
			uses = 2
			category = industry
		}
		if = {
			limit = { has_global_flag = debug_logs }
			log = "[GetDateText]: [Root.GetName] settler_future exited"
		}
	}
}
focus = {
	id = TPM_settler_pride
	icon = GFX_goal_generic_wasteland_girl
	cost = 60
	prerequisite = {
		focus = TPM_settler_future
	}
	x = 0
	y = 1
	relative_position_id = TPM_settler_future
	completion_reward = {
		if = {
			limit = { has_global_flag = debug_logs }
			log = "[GetDateText]: [Root.GetName] settler_pride entered"
		}
		add_ideas =	local_pride
		if = {
			limit = { has_global_flag = debug_logs }
			log = "[GetDateText]: [Root.GetName] settler_pride exited"
		}
	}
}
focus = {
	id = TPM_settler_town
	icon = GFX_goal_generic_welcome_home
	cost = 60
	prerequisite = {
		focus = TPM_settler_pride
	}
	x = 0
	y = 1
	relative_position_id = TPM_settler_pride
	completion_reward = {
		if = {
			limit = { has_global_flag = debug_logs }
			log = "[GetDateText]: [Root.GetName] settler_town entered"
		}
		random_owned_controlled_state = {
			limit = {
				is_valid_state_for_3_civilian_factories = yes
			}
			add_extra_state_shared_building_slots = 3
			add_building_construction = {
				type = industrial_complex
				level = 2
				instant_build = yes
			}
			add_building_construction = {
				type = arms_factory
				level = 1
				instant_build = yes
			}
		}
		if = {
			limit = { has_global_flag = debug_logs }
			log = "[GetDateText]: [Root.GetName] settler_town exited"
		}
	}
}
focus = {
	id = TPM_settler_city
	icon = GFX_goal_generic_megaloader
	cost = 60
	prerequisite = {
		focus = TPM_settler_town
	}
	x = 0
	y = 1
	relative_position_id = TPM_settler_town
	completion_reward = {
		if = {
			limit = { has_global_flag = debug_logs }
			log = "[GetDateText]: [Root.GetName] settler_city entered"
		}
		if = {
			limit = {
				check_variable = { num_owned_controlled_states > 1 }
			}
			random_owned_controlled_state = {
				limit = {
					NOT = { is_capital = yes }
				}
				add_extra_state_shared_building_slots = 3
				add_state_modifier = {
					modifier = {
						state_production_speed_industrial_complex_factor = 0.05
					}
				}
			}
		}
		else = {
			random_owned_controlled_state = {
				add_extra_state_shared_building_slots = 3
				add_state_modifier = {
					modifier = {
						state_production_speed_industrial_complex_factor = 0.05
					}
				}
			}
		}
		if = {
			limit = { has_global_flag = debug_logs }
			log = "[GetDateText]: [Root.GetName] settler_city exited"
		}
	}
}
focus = {
	id = TPM_settlers_markets
	icon = GFX_goal_generic_trade_economy
	cost = 60
	prerequisite = {
		focus = TPM_settler_city
	}
	x = -1
	y = 1
	relative_position_id = TPM_settler_city
	completion_reward = {
		if = {
			limit = { has_global_flag = debug_logs }
			log = "[GetDateText]: [Root.GetName] settlers_markets entered"
		}
		random_owned_controlled_state = {
			limit = {
				is_valid_state_for_civilian_factory = yes
			}
			add_extra_state_shared_building_slots = 1
			add_building_construction = {
				type = industrial_complex
				level = 1
				instant_build = yes
			}
		}
		random_owned_controlled_state = {
			add_building_construction = {
				type = air_base
				level = 1
				instant_build = yes
			}
		}
		random_owned_controlled_state = {
			add_building_construction = {
				type = radar_station
				level = 1
				instant_build = yes
			}
		}
		set_temp_variable = { caps_to_add = 125 }
		add_caps = yes
		if = {
			limit = { has_global_flag = debug_logs }
			log = "[GetDateText]: [Root.GetName] settlers_markets exited"
		}
	}
}
focus = {
	id = TPM_settler_labor
	icon = GFX_goal_commie_harvest_2
	cost = 60
	prerequisite = {
		focus = TPM_settler_city
	}
	x = 1
	y = 1
	relative_position_id = TPM_settler_city
	completion_reward = {
		if = {
			limit = { has_global_flag = debug_logs }
			log = "[GetDateText]: [Root.GetName] settler_labor entered"
		}
		random_owned_controlled_state = {
			limit = {
				is_valid_state_for_civilian_factory = yes
			}
			add_extra_state_shared_building_slots = 1
			add_building_construction = {
				type = industrial_complex
				level = 1
				instant_build = yes
			}
		}
		swap_ideas = {
			add_idea = labor_treaties
			remove_idea = local_pride
		}
		set_temp_variable = { caps_to_add = 125 }
		add_caps = yes
		if = {
			limit = { has_global_flag = debug_logs }
			log = "[GetDateText]: [Root.GetName] settler_labor exited"
		}
	}
}
focus = {
	id = TPM_settler_robed
	icon = GFX_goal_focus_spy
	cost = 60
	prerequisite = {
		focus = TPM_settler_labor
	}
	prerequisite = {
		focus = TPM_settlers_markets
	}
	allow_branch = {
		NOT = {
			original_tag = SRG #WE WERE THE BROTHERHOOD
		}
	}
	x = 1
	y = 1
	relative_position_id = TPM_settlers_markets
	completion_reward = {
		if = {
			limit = { has_global_flag = debug_logs }
			log = "[GetDateText]: [Root.GetName] settler_robed entered"
		}
		add_tech_bonus = {
			bonus = 0.5
			uses = 2
			category = electronics
		}
		if = {
			limit = { has_global_flag = debug_logs }
			log = "[GetDateText]: [Root.GetName] settler_robed exited"
		}
	}
}
focus = {
	id = TPM_settler_paladin
	icon = GFX_goal_MOJ_paladin_thought
	cost = 60
	prerequisite = {
		focus = TPM_settler_robed
	}
	available = {
		has_tech = TPM_stripped_pa_tech
	}
	x = 1
	y = 1
	relative_position_id = TPM_settler_robed
	completion_reward = {
		if = {
			limit = { has_global_flag = debug_logs }
			log = "[GetDateText]: [Root.GetName] settler_paladin entered"
		}
		add_tech_bonus = {
			uses = 1
			bonus = 0.5
			ahead_reduction = 0.5
			category = power_armor_tech_category
		}
		if = {
			limit = { has_global_flag = debug_logs }
			log = "[GetDateText]: [Root.GetName] settler_paladin exited"
		}
	}
}
focus = {
	id = TPM_settler_scribe
	icon = GFX_goal_bos_scribes
	cost = 60
	prerequisite = {
		focus = TPM_settler_robed
	}
	available = {
		has_tech = overcharged_ammunition
	}
	x = -1
	y = 1
	relative_position_id = TPM_settler_robed
	completion_reward = {
		if = {
			limit = { has_global_flag = debug_logs }
			log = "[GetDateText]: [Root.GetName] settler_scribe entered"
		}
		add_tech_bonus = {
			uses = 1
			bonus = 0.5
			ahead_reduction = 0.5
			category = energy_weaponry_tech_category
		}
		if = {
			limit = { has_global_flag = debug_logs }
			log = "[GetDateText]: [Root.GetName] settler_scribe exited"
		}
	}
}
focus = {
	id = TPM_settler_enforce
	icon = GFX_goal_generic_open_trade
	cost = 60
	prerequisite = {
		focus = TPM_settler_traderoutes
	}
	x = 1
	y = 1
	relative_position_id = TPM_settler_traderoutes
	completion_reward = {
		if = {
			limit = { has_global_flag = debug_logs }
			log = "[GetDateText]: [Root.GetName] settler_enforce entered"
		}
		add_ideas = enforced_trade_laws
		if = {
			limit = { has_global_flag = debug_logs }
			log = "[GetDateText]: [Root.GetName] settler_enforce exited"
		}
	}
}
focus = {
	id = TPM_settler_roadways
	icon = GFX_goal_generic_road_construction
	cost = 60
	prerequisite = {
		focus = TPM_settler_enforce
	}
	x = 0
	y = 1
	relative_position_id = TPM_settler_enforce
	completion_reward = {
		if = {
			limit = { has_global_flag = debug_logs }
			log = "[GetDateText]: [Root.GetName] settler_roadways entered"
		}
		random_owned_controlled_state = {
			limit = {
				infrastructure < 8
			}
			add_extra_state_shared_building_slots = 2
			add_building_construction = {
				type = infrastructure
				level = 3
				instant_build = yes
			}
		}
		if = {
			limit = { has_global_flag = debug_logs }
			log = "[GetDateText]: [Root.GetName] settler_roadways exited"
		}
	}
}
}






















































































 